{"ast":null,"code":"var _jsxFileName = \"/Users/cgiaramani/AEM-projects/to-do-mine/frontend/src/pages/Root.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { AuthContextProvider } from \"../store/auth-context\";\nimport Dashboard from \"../components/Dashboard\";\nimport Header from \"../components/Header\";\nimport { Outlet, useLoaderData, useSubmit } from \"react-router-dom\";\nimport { getTokenDuration } from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Root = () => {\n  _s();\n  const token = useLoaderData();\n  const submit = useSubmit();\n  let name = \"CHRIS\";\n  useEffect(() => {\n    if (!token) {\n      return;\n    }\n    if (token === 'EXPIRED') {\n      submit(null, {\n        action: '/logout',\n        method: 'post'\n      });\n      return;\n    }\n    const tokenDuration = getTokenDuration();\n    console.log(tokenDuration);\n    setTimeout(() => {\n      submit(null, {\n        action: '/logout',\n        method: 'post'\n      });\n    }, tokenDuration);\n\n    // name = localStorage.getItem('name');\n  });\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      name: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Root, \"Ry2CPpQqd+Qt8CKAW7c5AZ8By2g=\", false, function () {\n  return [useLoaderData, useSubmit];\n});\n_c = Root;\nexport default Root;\nvar _c;\n$RefreshReg$(_c, \"Root\");","map":{"version":3,"names":["React","useEffect","DndProvider","HTML5Backend","AuthContextProvider","Dashboard","Header","Outlet","useLoaderData","useSubmit","getTokenDuration","Root","token","submit","name","action","method","tokenDuration","console","log","setTimeout"],"sources":["/Users/cgiaramani/AEM-projects/to-do-mine/frontend/src/pages/Root.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { AuthContextProvider } from \"../store/auth-context\";\nimport Dashboard from \"../components/Dashboard\";\nimport Header from \"../components/Header\";\nimport { Outlet, useLoaderData, useSubmit } from \"react-router-dom\";\nimport { getTokenDuration } from '../utils/auth';\n\nconst Root = () => {\n    const token = useLoaderData();\n    const submit = useSubmit();\n    let name = \"CHRIS\";\n\n    useEffect(() => {\n        if(!token) {\n            return;\n        }\n\n        if(token === 'EXPIRED') {\n            submit(null, { action: '/logout', method: 'post'});\n            return;\n        }\n\n        const tokenDuration = getTokenDuration();\n        console.log(tokenDuration);\n    \n        setTimeout(() => {\n          submit(null, { action: '/logout', method: 'post' });\n        }, tokenDuration);\n\n        // name = localStorage.getItem('name');\n    })\n\n    return (\n        <>\n            <Header name={name}/>\n            <Outlet />\n        </>\n    )\n}\n\nexport default Root"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,WAAW;AACvC,SAASC,YAAY,QAAQ,yBAAyB;AACtD,SAASC,mBAAmB,QAAQ,uBAAuB;AAC3D,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,MAAM,EAAEC,aAAa,EAAEC,SAAS,QAAQ,kBAAkB;AACnE,SAASC,gBAAgB,QAAQ,eAAe;AAAC;AAAA;AAEjD,MAAMC,IAAI,GAAG,MAAM;EAAA;EACf,MAAMC,KAAK,GAAGJ,aAAa,EAAE;EAC7B,MAAMK,MAAM,GAAGJ,SAAS,EAAE;EAC1B,IAAIK,IAAI,GAAG,OAAO;EAElBb,SAAS,CAAC,MAAM;IACZ,IAAG,CAACW,KAAK,EAAE;MACP;IACJ;IAEA,IAAGA,KAAK,KAAK,SAAS,EAAE;MACpBC,MAAM,CAAC,IAAI,EAAE;QAAEE,MAAM,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAM,CAAC,CAAC;MAClD;IACJ;IAEA,MAAMC,aAAa,GAAGP,gBAAgB,EAAE;IACxCQ,OAAO,CAACC,GAAG,CAACF,aAAa,CAAC;IAE1BG,UAAU,CAAC,MAAM;MACfP,MAAM,CAAC,IAAI,EAAE;QAAEE,MAAM,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAO,CAAC,CAAC;IACrD,CAAC,EAAEC,aAAa,CAAC;;IAEjB;EACJ,CAAC,CAAC;;EAEF,oBACI;IAAA,wBACI,QAAC,MAAM;MAAC,IAAI,EAAEH;IAAK;MAAA;MAAA;MAAA;IAAA,QAAE,eACrB,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA,gBACX;AAEX,CAAC;AAAA,GA/BKH,IAAI;EAAA,QACQH,aAAa,EACZC,SAAS;AAAA;AAAA,KAFtBE,IAAI;AAiCV,eAAeA,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}